# Configuration for PDF-to-KG Pipeline with Environment Support
# =============================================================================

# Base configuration shared across all environments
_base:
  ollama:
    base_url: "http://localhost:11434"
    model: "llama3.2:3b"
    timeout: 120
    max_retries: 3
  
  chroma:
    persist_directory: "./chroma_db"
    collection_name: "pdf_documents"
    embedding_model: "nomic-embed-text"
  
  pipeline:
    output_dir: "output"
    chunk_size: 1000
    chunk_overlap: 200
    max_chunks_for_context: 5
    max_concurrent_pdfs: 3
    enable_visualization: true

  knowledge_graph:
    max_visualization_nodes: 50
    enable_visualization: true

  prompts:
    entity_extraction: |
      Extract all named entities from the following text. Return ONLY a JSON object with this exact structure:
      {
        "entities": {
          "PERSON": ["name1", "name2"],
          "ORG": ["org1", "org2"],
          "GPE": ["location1", "location2"],
          "DATE": ["date1"],
          "CONCEPT": ["concept1", "concept2"]
        }
      }
      Text: {text}
      JSON:

    relation_extraction: |
      Extract relationships between entities from the following text. Return ONLY a JSON array:
      [
        {"subject": "Entity1", "relation": "verb/relationship", "object": "Entity2"},
        {"subject": "Entity3", "relation": "verb/relationship", "object": "Entity4"}
      ]
      Text: {text}
      JSON:

# Environment-specific Overrides
# -----------------------------------------------------------------------------

development:
  # Inherits everything from _base
  pipeline:
    max_concurrent_pdfs: 2
    enable_visualization: true

production:
  # Production optimizations
  ollama:
    timeout: 300
    max_retries: 5
  pipeline:
    max_concurrent_pdfs: 6
    enable_visualization: false  # Disable for performance

test:
  # Test environment settings
  chroma:
    persist_directory: "./test_chroma_db"
  pipeline:
    chunk_size: 100
    max_concurrent_pdfs: 1
    enable_visualization: false

